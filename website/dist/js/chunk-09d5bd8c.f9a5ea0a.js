(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09d5bd8c"],{"0883":function(e,t,i){"use strict";i("deef")},2798:function(e,t,i){},7277:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("box-wrap",{scopedSlots:e._u([{key:"sidebar",fn:function(){return[i("v-img",{staticClass:"mx-auto",attrs:{src:e.avatar,width:"50"}}),i("v-subheader",{staticClass:"grey--text"},[i("strong",[e._v(e._s(e.authed||"Logged Out"))])]),e.token?e._e():i("v-tab",{key:"getauth"},[e._v("Discord Login")]),e.authed?i("v-tab",{key:"profile"},[e._v("Profile")]):e._e(),e.list.length?i("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[i("v-subheader",e._g(e._b({staticClass:"grey--text"},"v-subheader",n,!1),s),[i("strong",[e._v(e._s(e.server))])])]}}],null,!1,2484913611)},[i("v-list",e._l(e.list,(function(t,s){return i("v-list-item",{key:s,on:{click:function(i){return e.setGuild(t)}}},[i("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1):e._e(),e.config?i("v-tab",{key:"configs"},[e._v("Configs")]):e._e(),e.config?i("v-tab",{key:"actions"},[e._v("Actions")]):e._e(),e.config?i("v-tab",{key:"options"},[e._v("Options")]):e._e()]},proxy:!0},{key:"content",fn:function(){return[e.list.length?i("div",{staticClass:"switch panel"},[i("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"toggle",attrs:{small:"",text:""}},"v-btn",n,!1),s),[e._v(" "+e._s("Current Server: "+e.server)+" ")])]}}],null,!1,3915672675)},[i("v-list",e._l(e.list,(function(t,s){return i("v-list-item",{key:s,on:{click:function(i){return e.setGuild(t)}}},[i("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1)],1):e._e(),e.authed?i("v-tab-item",{key:"profile"},[i("profile-panel",{attrs:{user:e.user,guild:e.guild,anni:e.bot}})],1):e._e(),e.config?i("v-tab-item",{key:"configs"},[i("configs-panel",{attrs:{user:e.user,guild:e.guild,anni:e.bot}})],1):e._e(),e.config?i("v-tab-item",{key:"actions"},[i("actions-panel",{attrs:{user:e.user,guild:e.guild,anni:e.bot}})],1):e._e(),e.config?i("v-tab-item",{key:"options"},[i("options-panel",{attrs:{user:e.user,guild:e.guild,anni:e.bot}})],1):e._e(),e.nouser?i("v-tab-item",{key:"getauth"},[i("v-row",[i("box-card",{attrs:{nice:"",lead:"Login With Discord",head:"Who Even Are You?"}},[i("p",[e._v("The "),i("strong",[e._v("Dashboard")]),e._v(" makes working with Anni a little bit easier. You can update your profile, change your server settings, and manage options and actions all from the web.")]),i("v-btn",{attrs:{block:"",outlined:"",color:"primary",href:e.$urlLogins}},[e._v(" Continue With Discord ")])],1)],1)],1):e._e(),e.token&&!e.user?i("box-card",{attrs:{nice:"",lead:"Fetching Your Data",head:"Please Wait A Moment"}},[i("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),e.user&&e.guild&&e.guild.name&&!e.bot?i("box-card",{attrs:{nice:"",lead:"Nothing Found Here",head:"I Don't Think I'm In Here."}},[e.guild.admin?i("p",[i("strong",[e._v("Invite Anni to "+e._s(e.guild.name))]),e._v(" to enjoy all of Anni's features. You can make "),i("strong",[e._v("custom profiles")]),e._v(", that track "),i("strong",[e._v("birthdays")]),e._v(", local user "),i("strong",[e._v("timezones")]),e._v(", and (if you use the included "),i("strong",[e._v("starboard")]),e._v(", combined "),i("strong",[e._v("starboard statistics")]),e._v(". "),i("br"),i("br"),e._v(" Not to mention the "),i("strong",[e._v("actions")]),e._v(" and other features! ")]):e._e(),e.guild.admin?e._e():i("p",[e._v(" You're not an admin so you can't invite Anni to this server. Maybe mention all of the features "),i("em",[e._v("(maybe link them to this site!)")]),e._v(" to an admin. You never know, you could get lucky and they'll invite "),i("strong",[e._v("Anni")]),e._v(" to "),i("strong",[e._v(e._s(e.guild.name))]),e._v(". ")])]):e._e()]},proxy:!0}])})},n=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{directives:[{name:"masonry",rawName:"v-masonry"}],on:{click:e.refresh}},[i("box-card",{attrs:{name:"Your Profile",save:e.diffProfile},on:{save:e.saveProfile,undo:e.undoProfile},scopedSlots:e._u([{key:"help",fn:function(){return[i("p",[e._v("Age will only show on your profile if you set the year. To hide your age, leave it set to the current year.")]),i("p",[e._v("Setting your timezone will display your local time on your profile, and in the "),i("strong",[e._v(".time")]),e._v(" command.")])]},proxy:!0}])},[i("box-date",{attrs:{label:"Birthday",year:e.age},model:{value:e.getBirthday,callback:function(t){e.getBirthday=t},expression:"getBirthday"}}),i("v-select",{attrs:{dense:"",outlined:"",items:e.$zones,label:"Timezone","append-icon":"mdi-clock"},model:{value:e.zone,callback:function(t){e.zone=t},expression:"zone"}}),i("v-checkbox",{attrs:{label:"Show Age On Profile?"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),e.hasExtended?i("box-card",{attrs:{name:e.guild.name+" Profile",save:e.diffOptions},on:{save:e.saveOptions,undo:e.undoOptions},scopedSlots:e._u([{key:"help",fn:function(){return[e._v(" These are the profile options set by "),i("strong",[e._v(e._s(e.guild.name))]),e._v(", and only visible there. ")]},proxy:!0}],null,!1,578192256)},[e._l(e.options,(function(t,s){return i("div",{key:s},[i("v-textarea",{attrs:{outlined:"",rows:"1","auto-grow":"",counter:"",label:t.name,rules:[e.$rules.len],placeholder:t.desc},model:{value:t.data,callback:function(i){e.$set(t,"data",i)},expression:"option.data"}})],1)})),i("v-checkbox",{attrs:{label:"Visible On "+e.guild.name},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}})],2):e._e()],1)},r=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.day,transition:"scale-transition","min-width":"290px","offset-y":""},on:{"update:returnValue":function(t){e.day=t},"update:return-value":function(t){e.day=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[i("div",{class:{hideyear:!e.year}},[i("v-text-field",e._g(e._b({attrs:{dense:"",readonly:"",outlined:"",label:e.label,"append-icon":"mdi-calendar"},model:{value:e.day,callback:function(t){e.day=t},expression:"day"}},"v-text-field",n,!1),s))],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[i("div",{class:{hideyear:!e.year}},[i("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:function(t){return e.$emit("input",t)}},model:{value:e.day,callback:function(t){e.day=t},expression:"day"}},[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.day)}}},[e._v("OK")])],1)],1)])},l=[],u={name:"BoxDate",props:["value","label","year"],data(){return{menu:!1,day:""}},watch:{value(){this.day=this.value}}},c=u,d=(i("0883"),i("a6c2")),h=Object(d["a"])(c,o,l,!1,null,null,null),f=h.exports,p={name:"ProfilePanel",props:["user","guild","anni"],data(){return{bday:"",year:"",zone:"",list:!1,age:!1,profile:{},options:{},archive:{}}},mounted(){this.renderPanel()},watch:{user(){this.renderPanel()},guild(){this.renderPanel()}},computed:{currProfile(){let e={id:this.profile.id},t=this.$clone(this.profile.list||[]),i=t?t.indexOf(this.guild.id):-1,s=i>-1;return this.zone!=this.profile.zone&&(e.zone=this.zone),this.bday!=this.profile.bday&&(e.bday=this.bday),this.year!=this.profile.year&&(e.year=this.currentYear),this.list&&!s&&(t=[...t,this.guild.id]),!this.list&&s&&t.splice(i,1),{...e,list:t}},diffProfile(){if(this.bday!=this.profile.bday)return!0;if(this.year!=this.profile.year)return!0;if(this.zone!=this.profile.zone)return!0;let e=this.guild.id,t=this.profile.list||[],i=this.currProfile.list||[];return t.indexOf(e)!==i.indexOf(e)},currOptions(){let e=this.options,t=this.archive,i={};for(let s in e)e[s].data!=t[s].data&&(i[s]=e[s]);return i},diffOptions(){for(let e in this.archive){let t=this.archive[e].data;if(t!=this.options[e].data)return!0}return!1},hasExtended(){return Object.keys(this.options).length>0},currentYear(){return this.age?this.year:"2020"},getBirthday:{get(){this.refresh();let e=this.currentYear||"2020",t=this.bday.split("/")[0],i=this.bday.split("/")[1];return`${e}-${t}-${i}`},set(e){let t=e.split("-");this.year=t[0],this.bday=`${t[1]}/${t[2]}`}}},methods:{refresh(){setTimeout(this.$redrawVueMasonry,50)},loadProfile(e,t){e=this.$nulls(e),e.list=e.list?JSON.parse(e.list):[],e.bday&&(this.bday=e.bday),e.zone&&(this.zone=e.zone),e.year&&(this.year=e.year),e.year&&(this.age=this.$string.age(e.year)),e.list&&(this.list=e.list.indexOf(this.guild.id)>-1),(e.opts||t)&&this.loadOptions(e.opts),e.opts&&delete e.opts,e&&(this.profile={...this.profile,...e})},loadOptions(e=[]){this.$tring(e)&&(e=JSON.parse(e)),this.archive=this.$clone(e),this.options=this.$clone(e)},undoProfile(){this.bday=this.profile.bday,this.year=this.profile.year,this.zone=this.profile.zone},undoOptions(){for(let e in this.archive)this.options[e].data=this.archive[e].data},async renderPanel(){let e=[this.user,this.guild],t=await this.$getProfile(...e);t.profile&&this.loadProfile(t.profile,!0),this.refresh()},async saveProfile(){let e=[this.user,this.guild,this.currProfile];e[2].list=JSON.stringify(e[2].list);let t=await this.$setProfile(...e);t.profile&&this.loadProfile(this.currProfile)},async saveOptions(){let e=e=>this.$rules.bad("len",e);for(let n in this.options)if(e(this.options[n].data))return;let t=JSON.stringify(this.currOptions),i=[this.user,this.guild,{options:t}],s=await this.$setProfile(...i);s.profile&&this.loadProfile(s.profile)}},components:{BoxDate:f}},v=p,m=Object(d["a"])(v,a,r,!1,null,null,null),g=m.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{directives:[{name:"masonry",rawName:"v-masonry"}],on:{click:e.refresh}},[e.haveConfigs?i("box-card",{attrs:{name:"Triggers",save:e.diffTrigger},on:{save:e.saveConfigs,undo:e.undoTrigger},scopedSlots:e._u([{key:"help",fn:function(){return[i("p",[e._v("The triggers are how you call commands. Anni has a "),i("strong",[e._v("prefix")]),e._v(" and a "),i("strong",[e._v("suffix")]),e._v(". As for the prefix, for some bots it's as simple as "),i("kbd",[e._v("!")]),e._v(" or "),i("kbd",[e._v("^")]),e._v(". The default prefix is "),i("kbd",[e._v("anni.")]),e._v(" which will always work.")]),i("p",[i("strong",[e._v("Popular Options:")]),e._v(" "),i("kbd",[e._v("a.")]),e._v(" "),i("kbd",[e._v("a*")]),e._v(" "),i("kbd",[e._v("a^")])]),i("p",[i("strong",[e._v("Examples:")]),e._v(" "),i("kbd",[e._v("a.profile")]),e._v(" "),i("kbd",[e._v("a*profile")]),e._v(" "),i("kbd",[e._v("a^profile")])]),i("p",[e._v("The "),i("strong",[e._v("suffix")]),e._v(" is a novelty feature, and allows you to call commands using a suffix such as "),i("kbd",[e._v(".exe")]),e._v(" or "),i("kbd",[e._v(".cmd")]),e._v(" - the suffix is disabled by default.")]),i("p",[i("strong",[e._v("Examples:")]),e._v(" "),i("kbd",[e._v("profile.exe")]),e._v(" "),i("kbd",[e._v("profile.cmd")])])]},proxy:!0},{key:"opts",fn:function(){return[i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{dense:"",outlined:"",required:"",rules:[e.$rules.has,e.$rules.space],label:"Current Prefix",placeholder:"anni."},model:{value:e.prefix,callback:function(t){e.prefix=t},expression:"prefix"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{dense:"",outlined:"",rules:[e.$rules.space],label:"Current Suffix",placeholder:".exe, .cmd"},model:{value:e.suffix,callback:function(t){e.suffix=t},expression:"suffix"}})],1)]},proxy:!0}],null,!1,2936404497)}):e._e(),e.haveConfigs?i("box-card",{attrs:{name:"Starboard",save:e.diffStarred},on:{save:e.saveConfigs,undo:e.undoStarred},scopedSlots:e._u([{key:"help",fn:function(){return[i("p",[e._v("You'll need to create a channel (usually called "),i("strong",[e._v("#starboard")]),e._v(") that only the bot has access to.")]),i("p",[e._v("If you need an overview of the starboard, check out the "),i("strong",[e._v("& More")]),e._v(" tab on the "),i("router-link",{attrs:{to:"/"}},[e._v("home page")]),e._v(".")],1),i("p",[e._v("For setting the emoji, it's recommended to use the "),i("kbd",[e._v("anni.emoji")]),e._v(" command in the server for custom emoji support.")])]},proxy:!0},{key:"opts",fn:function(){return[i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-select",{attrs:{dense:"",outlined:"",label:"Starboard Channel",items:e.channels,"item-text":"name","item-value":"id"},model:{value:e.board,callback:function(t){e.board=t},expression:"board"}})],1),i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-text-field",{attrs:{dense:"",outlined:"",type:"number",label:"Reaction Count"},model:{value:e.count,callback:function(t){e.count=t},expression:"count"}})],1)]},proxy:!0}],null,!1,2929214880)}):e._e(),e.haveConfigs?i("box-card",{attrs:{name:"Announcements",save:e.diffReminds},on:{save:e.saveConfigs,undo:e.undoReminds},scopedSlots:e._u([{key:"help",fn:function(){return[i("p",[e._v("Users can add their birthdays to their user profiles. If they have a birthday set, you can send out a reminder 1 week before, and an announcement the day of. You just need to set a channel!")]),i("p",[e._v("Message must contain either "),i("kbd",[e._v("{user}")]),e._v(" or "),i("kbd",[e._v("{users}")]),e._v("."),i("br"),e._v(" (for "),i("em",[i("strong",[e._v("@user")])]),e._v(" and "),i("em",[i("strong",[e._v("@user's")])]),e._v(" respectively)")]),i("p",[e._v("Can optionally include "),i("strong",[e._v("{date}")]),e._v(" for display the date of the birthday. "),i("em",[e._v("Useful for the reminder message!")])])]},proxy:!0}],null,!1,1274142794)},[i("v-select",{attrs:{dense:"",outlined:"",label:"Announcement Channel",items:e.channels,"item-text":"name","item-value":"id"},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}}),i("v-textarea",{attrs:{outlined:"",rows:"2",rules:[e.$rules.ping],label:"Reminder Message"},model:{value:e.reminder,callback:function(t){e.reminder=t},expression:"reminder"}}),i("v-textarea",{attrs:{outlined:"",rows:"2",rules:[e.$rules.ping],label:"Announcement Message"},model:{value:e.announce,callback:function(t){e.announce=t},expression:"announce"}})],1):e._e(),e.haveConfigs?i("box-card",[i("div",{staticClass:"text-center"},[e._v(" Channels or roles out of date? "),i("br"),e._v(" Run "),i("strong",[e._v("anni.refresh")]),e._v(" in your server. ")])]):e._e()],1)},b=[],y={name:"ConfigsPanel",props:["user","guild"],data(){return{prefix:"",suffix:"",board:"",count:"",birthday:"",reminder:"",announce:"",configs:{},channels:[]}},mounted(){this.renderPanel()},watch:{user(){this.renderPanel()},guild(){this.renderPanel()}},computed:{haveConfigs(){return this.configs&&!this.configs.empty},currConfigs(){let e={...this.configs};return e.prefix=this.prefix,e.suffix=this.suffix,e.birthday=this.birthday,e.reminder=this.reminder,e.announce=this.announce,e.board=this.board,e.count=this.count,e},diffTrigger(){return this.prefix!=this.configs.prefix||this.suffix!=this.configs.suffix},diffReminds(){return this.birthday!=this.configs.birthday||(this.reminder!=this.configs.reminder||this.announce!=this.configs.announce)},diffStarred(){return this.board!=this.configs.board||this.count!=this.configs.count}},methods:{refresh(){setTimeout(this.$redrawVueMasonry,50)},loadConfigs(e){e=this.$nulls(e),e.opts&&this.loadDetails(e.opts),e.prefix&&(this.prefix=e.prefix),e.suffix&&(this.suffix=e.suffix),e.birthday&&(this.birthday=e.birthday),e.announce&&(this.announce=e.announce),e.reminder&&(this.reminder=e.reminder),e.board&&(this.board=e.board),e.count&&(this.count=e.count),e.opts&&delete e.opts,e&&(this.configs={...this.configs,...e})},loadDetails(e){if(e.chans){this.channels=[{id:"",name:"No Channel"}];for(let t of JSON.parse(e.chans)){let e=t.split(":");this.channels.push({id:e[0],name:e[1]})}}},undoTrigger(){this.prefix=this.configs.prefix,this.suffix=this.configs.suffix},undoReminds(){this.birthday=this.configs.birthday,this.reminder=this.configs.reminder,this.announce=this.configs.announce},undoStarred(){this.board=this.configs.board,this.count=this.configs.count},async renderPanel(){let e=await this.$getConfigs(this.guild);e.configs&&this.loadConfigs(e.configs),this.refresh()},async saveConfigs(){if(this.$rules.bad("has",this.prefix))return;if(this.$rules.bad("space",this.prefix))return;if(this.$rules.bad("space",this.suffix))return;if(this.$rules.bad("ping",this.reminder))return;if(this.$rules.bad("ping",this.announce))return;let e=await this.$setConfigs(this.guild,this.currConfigs);e.configs&&this.loadConfigs(e.configs)}}},x=y,k=Object(d["a"])(x,_,b,!1,null,null,null),w=k.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[e.actions.length?i("box-card",{attrs:{show:"",name:e.guild.name+" Actions"},scopedSlots:e._u([{key:"list",fn:function(){return e._l(e.actions,(function(t,s){return i("box-item",{key:s,attrs:{item:t,base:e.archive[s],open:e.actions[e.pane],save:["name","text","list"]},on:{save:e.saveActions,undo:e.undoActions,wipe:e.wipeActions},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.archive[s].name))]},proxy:!0},{key:"opts",fn:function(){return[i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-text-field",{attrs:{dense:"",outlined:"",prefix:"anni.",placeholder:"hug",label:"Trigger",rules:[e.$rules.space,e._oldName]},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"action.name"}})],1),i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Response",placeholder:"*{user} hugs {msg}*"},model:{value:t.text,callback:function(i){e.$set(t,"text",i)},expression:"action.text"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Image Response Link",placeholder:"https://i.imgur.com/r9aU2xv.gif",rules:[e.$rules.url],"append-outer-icon":"mdi-plus-circle"},on:{"click:append-outer":function(t){return e._addImg()}},model:{value:e.href,callback:function(t){e.href=t},expression:"href"}}),e._v(" Image Responses "),i("v-list",{attrs:{flat:"",dense:"",subheader:""}},[t.list.length?e._e():i("v-list-item",[e._v("Nothing Yet")]),e._l(t.list,(function(s,n){return i("v-list-item",{key:n},[i("a",{attrs:{href:s,target:"_blank"}},[e._v(e._s(s))]),i("v-list-item-action",{on:{click:function(e){return t.list.splice(n,1)}}},[i("v-btn",{attrs:{icon:"",x0small:""}},[i("v-icon",[e._v("mdi-delete")])],1)],1)],1)}))],2)],1)]},proxy:!0}],null,!0)})}))},proxy:!0}],null,!1,1196115419),model:{value:e.pane,callback:function(t){e.pane=t},expression:"pane"}}):e._e(),i("box-card",{attrs:{wide:"",hide:!e.hide,name:"Create A New Action",edit:e.editCreated,save:e.diffCreated},on:{save:e.saveCreated,undo:e.undoCreated},scopedSlots:e._u([{key:"help",fn:function(){return[i("p",[e._v("Use this tool to quickly add Actions to the server. The "),i("strong",[e._v("name")]),e._v(" can't be any of the command names currently in use. If you want more details on Actions, check out the "),i("router-link",{attrs:{to:"/docs"}},[i("strong",[e._v("docs")])]),e._v(".")],1),i("p",[e._v("Image Responses must be a direct link to a file "),i("em",[e._v("(ends with .png or .gif)")]),e._v(" in order for the preview to render properly.")])]},proxy:!0},{key:"opts",fn:function(){return[i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-text-field",{attrs:{dense:"",outlined:"",prefix:"anni.",placeholder:"hug",label:"Trigger",rules:[e.$rules.space,e._newName]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Response",placeholder:"*{user} hugs {msg}*"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{dense:"",outlined:"","append-outer-icon":"mdi-plus-circle",rules:[e.$rules.url],label:"Image Response Link",placeholder:"https://i.imgur.com/r9aU2xv.gif"},on:{"click:append-outer":function(t){return e._newImg()}},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}}),e._v(" Image Responses "),i("v-list",{attrs:{flat:"",dense:"",subheader:""}},[e.list.length?e._e():i("v-list-item",[e._v("No Responses Yet")]),e._l(e.list,(function(t,s){return i("v-list-item",{key:s},[i("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))]),i("v-list-item-action",{on:{click:function(t){return e.list.splice(s,1)}}},[i("v-btn",{attrs:{icon:"","x-small":""}},[i("v-icon",[e._v("mdi-delete")])],1)],1)],1)}))],2)],1)]},proxy:!0}])})],1)},C=[],O={name:"ActionsPanel",props:["user","guild"],data(){return{name:"",text:"",list:[],link:"",href:"",archive:[],actions:[],hide:!0,pane:-1}},mounted(){this.renderPanel()},watch:{user(){this.renderPanel()},guild(){this.renderPanel()}},computed:{editCreated(){return!(!this.name&&!this.text)||!(!this.desc&&!this.list.length)},diffCreated(){return!(!this.name||!this.text)},currCreated(){return{text:this.text,name:this.name.toLowerCase(),list:JSON.stringify(this.list)}}},methods:{_newName(e){return e=e?e.toLowerCase():"",this.$checkName(e,this.archive,"name",!0)},_oldName(e){e=e?e.toLowerCase():"";let t=this.archive[this.pane];return!t||t.name==e||this.$checkName(e,this.archive,"name",!0)},_newImg(){this.$rules.bad("url",this.link)||(this.list.push(this.link),this.link="")},_addImg(){if(this.$rules.bad("url",this.href))return;let e=this.actions[this.pane];e.list=e.list||[],e.list.push(this.href),this.href=""},loadActions(e){if(e.empty)return;let t=[];for(let i of e)i.list&&(i.list=JSON.parse(i.list)),t.push(i);this.actions=this.$clone(t),this.archive=this.$clone(t)},undoCreated(){this.name="",this.text="",this.link="",this.list=[]},undoActions(){let e=this.archive[this.pane];this.actions.splice(this.pane,1,this.$clone(e))},async renderPanel(){let e=await this.$getActions(this.guild);e.actions&&this.loadActions(e.actions)},async saveCreated(){if("string"===typeof this._newName(this.name))return;let e=await this.$newActions(this.guild,this.currCreated),t=e.actions;t.list=JSON.parse(t.list),this.actions.push(this.$clone(t)),this.archive.push(this.$clone(t)),this.pane=this.actions.length-1,this.hide=!1,this.undoCreated()},async saveActions(){let e=this.$clone(this.actions[this.pane]);if("string"===typeof this._oldName(e.name))return;let t=await this.$setActions(this.guild,e);if(!t)return alert("Error Updating Action");this.archive.splice(this.pane,1,this.$clone(e))},async wipeActions(){let e=await this.$remActions(this.guild,this.actions[this.pane]);if(!e)return alert("Error Removing Action");this.actions.splice(this.pane,1),this.archive.splice(this.pane,1),this.pane=-1}}},P=O,A=Object(d["a"])(P,$,C,!1,null,null,null),S=A.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[e.options.length?i("box-card",{attrs:{show:"",name:e.guild.name+" Options"},scopedSlots:e._u([{key:"list",fn:function(){return e._l(e.options,(function(t,s){return i("box-item",{key:s,attrs:{item:t,base:e.archive[s],open:e.options[e.pane],save:["tag","name","desc"]},on:{save:e.saveOptions,undo:e.undoOptions,wipe:e.wipeOptions},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.archive[s].name))]},proxy:!0},{key:"opts",fn:function(){return[i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Trigger",placeholder:"about",rules:[e.$rules.space,e._oldTag]},model:{value:t.tag,callback:function(i){e.$set(t,"tag",i)},expression:"option.tag"}})],1),i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Name",placeholder:"About Me"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"option.name"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Description",placeholder:"A quick summary of you!"},model:{value:t.desc,callback:function(i){e.$set(t,"desc",i)},expression:"option.desc"}})],1)]},proxy:!0}],null,!0)})}))},proxy:!0}],null,!1,1400185994),model:{value:e.pane,callback:function(t){e.pane=t},expression:"pane"}}):e._e(),i("box-card",{attrs:{wide:"",hide:!e.hide,name:"Create A New Option",edit:e.editCreated,save:e.diffCreated},on:{save:e.saveCreated,undo:e.undoCreated},scopedSlots:e._u([{key:"help",fn:function(){return[i("p",[e._v(" Use this tool to add and manage profile options in your server. The "),i("strong",[e._v("Trigger")]),e._v(" is what they'll use to set it on their profile, the "),i("strong",[e._v("Name")]),e._v(" is the label that shows up on the profile, and the "),i("strong",[e._v("Description")]),e._v(" shows up to help out during setup. If you want more details on Profile Options, check out the "),i("router-link",{attrs:{to:"/docs"}},[i("strong",[e._v("docs")])]),e._v(". ")],1)]},proxy:!0},{key:"opts",fn:function(){return[i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Trigger",placeholder:"about",rules:[e.$rules.space,e._newTag]},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1),i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Name",placeholder:"About Me"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{dense:"",outlined:"",label:"Description",placeholder:"A quick summary of you!"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1)]},proxy:!0}])})],1)},T=[],z={name:"OptionsPanel",props:["user","guild","anni"],data(){return{tag:"",name:"",desc:"",archive:[],options:[],hide:!0,pane:-1}},mounted(){this.renderPanel()},watch:{user(){this.renderPanel()},guild(){this.renderPanel()}},computed:{editCreated(){return!!(this.tag||this.name||this.desc)},diffCreated(){return!(!this.tag||!this.name)},currCreated(){return{tag:this.tag,name:this.name,desc:this.desc,guild:this.guild.id,user:"@everyone"}}},methods:{_newTag(e){return e=e?e.toLowerCase():"",this.$checkName(e,this.archive,"tag")},_oldTag(e){e=e?e.toLowerCase():"";let t=this.archive[this.pane];return!t||t.name==e||this.$checkName(e,this.archive,"tag")},loadOptions(e){e.empty||(this.options=this.$clone(e),this.archive=this.$clone(e))},undoCreated(){this.tag="",this.name="",this.desc=""},undoOptions(){let e=this.archive[this.pane];this.options.splice(this.pane,1,this.$clone(e))},async renderPanel(){let e=await this.$getOptions(this.guild);e.options&&this.loadOptions(e.options)},async saveCreated(){if("string"===typeof this._newTag(this.tag))return;let e=await this.$newOptions(this.guild,this.currCreated),t=e.options;this.options.push(this.$clone(t)),this.archive.push(this.$clone(t)),this.pane=this.options.length-1,this.hide=!1,this.undoCreated()},async saveOptions(){let e=this.$clone(this.options[this.pane]);if("string"===typeof this._oldTag(e.tag))return;let t=await this.$setOptions(this.guild,e);if(!t)return alert("Error Updating Option");this.archive.splice(this.pane,1,this.$clone(e))},async wipeOptions(){let e=await this.$remOptions(this.guild,this.options[this.pane]);if(!e)return alert("Error Removing Option");this.options.splice(this.pane,1),this.archive.splice(this.pane,1),this.pane=-1}}},I=z,R=Object(d["a"])(I,N,T,!1,null,null,null),E=R.exports,Y={components:{ProfilePanel:g,ConfigsPanel:w,ActionsPanel:S,OptionsPanel:E},data(){return{token:0,user:0,guild:0,icon:0,list:[],tab:0,bot:0}},computed:{isauth(){return this.token&&this.user},logged(){return this.token&&!this.user},nouser(){return!this.token&&!this.user},avatar(){return this.icon||"https://i.imgur.com/ZOKp8LH.png"},server(){return this.guild?this.guild.name:"Select Server"},config(){return!!this.guild&&(this.guild.admin&&this.bot)},authed(){return!!this.isauth&&`${this.user.username}#${this.user.discriminator}`}},methods:{setGuild(e){this.guild=e,localStorage.guild=e.id,this.loadAnni()},async loadAnni(){let e=await this.$getConfigs(this.guild),t=e.configs;this.bot=t&&!t.error&&!t.empty}},async mounted(){this.token=localStorage.token;let e=await this.$Auth();if(e)for(let t in e)this[t]=e[t];await this.loadAnni()}},D=Y,j=(i("f4ec"),Object(d["a"])(D,s,n,!1,null,"05a681bf",null));t["default"]=j.exports},deef:function(e,t,i){},f4ec:function(e,t,i){"use strict";i("2798")}}]);
//# sourceMappingURL=chunk-09d5bd8c.f9a5ea0a.js.map